{"version":3,"sources":["userdata.js"],"names":["mongoose","require","mongoDB","connect","useNewUrlParser","useUnifiedTopology","error","bind","console","db","once","uniqueValidator","postSchema","Schema","firstname","required","trim","v","String","length","message","lastname","validate","validator","email","test","props","concat","value","comment","type","plugin","Post","model"],"mappings":"aACA,IAAAA,SAAAC,QAAA,YAGIC,QAAU,2KACdF,SAASG,QAAQD,QAAS,CAAEE,iBAAiB,EAAMC,oBAAoB,IAAvEL,IAAAA,GAASG,SAAQD,WAAkCG,GAAAA,GAAAA,QAAAA,QAAoBC,MAAAC,KAAAC,QAAA,8BAMvEC,GAAGC,KAAK,OAAQ,WAJZD,QAAKT,IAAAA,sBAETS,IAAME,gBAAiBL,QAAMC,6BAE7BK,WAAA,IAAAZ,SAAAa,OAAA,CAOIC,UAAW,CAJTH,KAAAA,OAMEI,SAAU,yBACVC,MAAM,EAJRJ,SAAa,CACfE,UAAW,SAAAG,GACDC,OADC,EAAAD,EAAAE,QAGDC,QAHC,WAAA,MAAA,kDAOJC,SAHO,CAIRD,KAAOF,OAAEH,SAAA,yBAAAC,MAAA,EAJDM,SAAA,CALqBC,UAAA,SAAAN,GAavB,OAAA,EAAAA,EAAAE,QAERJ,QAAU,WAAA,MAAA,kDAKPS,MAHO,CAIRJ,KAAOF,OAAEF,MAAA,EAAAM,SAAA,CAJDC,UAAA,SAAAN,GAjBqB,MAAA,4JAAAQ,KAAAR,IA2BzBC,QADD,SAAAQ,GAAA,MAAA,GAAAC,OAAAD,EAAAE,MAAA,qCAKDC,QAAO,CAFAC,KAAAZ,OAITE,SAAS,+BAAAJ,MAAA,EAAAM,SAAA,CAJAC,UAAA,SAAAN,GA7BoB,OAAA,EAAAA,EAAAE,QAsCzBD,QADC,WAAA,MAAA,oDAOJN,WAHOmB,OAAApB,iBAIRS,OAAAA,QAASY,KAAAhC,SAAAiC,MAAA,OAAArB","file":"userdata.min.js","sourcesContent":["\r\n// Require the mongoose module\r\nvar mongoose = require('mongoose');\r\n// Set up a mongoose connection\r\nvar mongoDB = \"mongodb+srv://mo:comon123@cluster0.c2uhk.mongodb.net/userdata?authSource=admin&replicaSet=atlas-rvxm88-shard-0&readPreference=primary&appname=MongoDB%20Compass&ssl=true\"\r\nmongoose.connect(mongoDB, { useNewUrlParser: true, useUnifiedTopology: true });\r\n// Get the connection\r\nvar db = mongoose.connection;\r\n// Bind connection to error event (to get notification of connection errors)\r\ndb.on('error', console.error.bind(console, 'MongoDB connection error:'));\r\n\r\ndb.once('open', function () {\r\n    console.log(\"we're connected!\")\r\n});\r\nconst uniqueValidator = require(\"mongoose-unique-validator\");\r\n\r\n//create schema for contact form\r\nconst postSchema = new mongoose.Schema({\r\n    firstname: {\r\n        type: String,\r\n        required: \"First name is required\",\r\n        trim: true,\r\n        validate: {\r\n          validator: function (v) {\r\n            return v.length > 3;\r\n          },\r\n          message: (props) => `Please ensure you have entered your comment.`,\r\n        },\r\n      },    \r\n      \r\n      lastname: {\r\n        type: String,\r\n        required: \"First name is required\",\r\n        trim: true,\r\n        validate: {\r\n          validator: function (v) {\r\n            return v.length > 3;\r\n          },\r\n          message: (props) => `Please ensure you have entered your comment.`,\r\n        },\r\n      },    \r\n      \r\n      \r\n      email: {\r\n        type: String,\r\n        trim: true,\r\n         validate: {\r\n          validator: function (v) {\r\n            return /^(([^<>()[\\]\\\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/.test(v);\r\n          },\r\n          message: (props) => `${props.value} is not a valid Email address.`,\r\n        },\r\n      },\r\n    \r\n      comment: {\r\n        type: String,\r\n        required: \"Please write your post body.\",\r\n        trim: true,\r\n        validate: {\r\n          validator: function (v) {\r\n            return v.length > 3;\r\n          },\r\n          message: (props) => `Please ensure you have entered your comment.`,\r\n        },\r\n      },       \r\n    \r\n});\r\n\r\npostSchema.plugin(uniqueValidator);\r\nmodule.exports.Post = mongoose.model('Post', postSchema);"]}